<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kartu Ucapan Buat Kamu</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: url('BG2.png') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      perspective: 1000px;
    }

    .flip-container {
      width: 700px;
      height: 450px;
      position: relative;
      transition: transform 1s;
      transform-style: preserve-3d;
    }

    .flipped {
      transform: rotateY(180deg);
    }

    .front, .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 12px;
      box-sizing: border-box;
    }

    .front {
      background: white;
      background-size: cover;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid #ff69b4;
      box-shadow: 0 0 15px rgba(255, 105, 180, 0.4);
      overflow: hidden;
      cursor: pointer;
    }

    .front img {
      background-size: cover;
      width: 65%;
      height: auto;
      border-radius: 8px;
    }

    .back {
      background: white;
      background-size: cover;
      transform: rotateY(180deg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 40px;
      box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
      border: 2px solid #ff69b4;
      overflow: hidden;
    }

    h1 {
      font-size: 2em;
      color: #e91e63;
      margin-bottom: 20px;
      text-align: center;
    }

    .typewriter-text {
      font-size: 1.2em;
      color: #e91e63;
      line-height: 1.6;
      white-space: pre-line;
      text-align: center;
      margin-top: 10px;
      word-wrap: break-word;
      max-width: 95%;
      min-height: 150px;
    }

    .btn-row {
      display: flex;
      gap: 12px;
      margin-top: 30px;
    }

    .back-btn, .open-btn {
      padding: 10px 20px;
      background-color: #e91e63;
      color: white;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
      cursor: pointer;
      border: none;
    }

    .back-btn:hover,
    .open-btn:hover {
      background-color: #c2185b;
    }
  </style>
</head>
<body>

  <div class="flip-container" id="card">
    <!-- Sisi Depan -->
    <div class="front" id="front">
      <img src="kartu1.png" alt="Kartu Ucapan" />
    </div>

    <!-- Sisi Belakang -->
    <div class="back">
      <h1>üíñ Untuk Kamu yang Spesial üíñ</h1>
      <div id="typewriter" class="typewriter-text"></div>
      <div class="btn-row">
        <button class="back-btn" id="backBtn">‚Üê Kembali</button>
      </div>
    </div>
  </div>

  <script>
    const card = document.getElementById('card');
    const typewriter = document.getElementById('typewriter');
    const front = document.getElementById('front');
    const backBtn = document.getElementById('backBtn');

    const paragraphs = [
      "Selamat ulang tahun! üéâ Semoga hidupmu selalu dipenuhi dengan kebahagiaan, dan segala hal indah yang kamu impikan. dan juga semangat kuliah nya jangan lupa untuk istirahat",
      "Terima kasih telah hadir dan membuat dunia lebih cerah dengan senyumanmu. üíñ Tetap semangat dan terus bermimpi yaa sayangg! ‚ú® "
    ];

    let i, j, current, typingTimeout;

    function type() {
      if (i < paragraphs.length) {
        if (j < paragraphs[i].length) {
          current += paragraphs[i].charAt(j);
          typewriter.innerHTML = current;
          j++;
          typingTimeout = setTimeout(type, 80);
        } else {
          current += '\n\n';
          i++;
          j = 0;
          typingTimeout = setTimeout(type, 400);
        }
      }
    }

    function resetTypewriter() {
      clearTimeout(typingTimeout);
      i = 0;
      j = 0;
      current = '';
      typewriter.innerHTML = '';
    }

    function launchConfetti() {
      const duration = 3000;
      const end = Date.now() + duration;
      const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

      function randomInRange(min, max) {
        return Math.random() * (max - min) + min;
      }

      const interval = setInterval(() => {
        const timeLeft = end - Date.now();
        if (timeLeft <= 0) return clearInterval(interval);

        confetti(Object.assign({}, defaults, {
          particleCount: 30,
          origin: { x: randomInRange(0.1, 0.9), y: Math.random() - 0.2 }
        }));
      }, 250);
    }

    // Klik membuka kartu
    front.addEventListener('click', () => {
      if (!card.classList.contains('flipped')) {
        card.classList.add('flipped');
        resetTypewriter();
        setTimeout(() => {
          launchConfetti();
          type();
        }, 1500);
      }
    });

    // Klik tombol kembali
    backBtn.addEventListener('click', () => {
      card.classList.remove('flipped');
      resetTypewriter();
    });
  </script>
</body>
</html>
